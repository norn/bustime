{# машина такси в списке Хотят подвезти (order_inputs.html) (offer) #}
{% load i18n %}
<!-- offer_item.html -->
<div id="taxi_{{taxi.user}}" class="column">
    <div class="item taxi" > <!--style="width:460px; margin:auto;"-->
        <div class="content">
            <a class="description" style="width: 100%;">
                <table style="width: 100%; border-collapse: collapse; margin-bottom: .5em;">
                    <tr>
                        <td width="50px">
                            {% if taxi.avatar %}
                            <img class="ui tiny circular image" src="/static/{{taxi.avatar}}">
                            {% else %}
                            <img class="ui tiny circular image" src="/static/taxi/img/noavatar.jpg">
                            {% endif %}
                        </td>
                        <td style="text-align:right;">
                            <span style="font-size:small; color:gray;">Рейтинг</span>
                            <div class="rating">
                              <i class="star yellow icon"></i><b>{{taxi.driver_rating|default:0}}</b>
                            </div>
                        </td>
                        <td style="text-align:right;">
                            <span style="font-size:small; color:gray;">Подвёз</span>
                            <br><b>{{taxi.driver_trips_cnt|default:0}}</b>
                        </td>
                        <td style="text-align:right;">
                            <span style="font-size:small; color:gray;">Отзывов</span>
                            <br><b>{{taxi.driver_rating_cnt|default:0}}</b>
                        </td>
                        <td style="text-align:right; font-weight:bold;">
                            ~{{distance.meters|default:0}} км.
                            <br>{{distance.time|default:0}}
                        </td>
                    </tr>
                </table>
            </a>
            <a class="description" style="width: 100%;">
                <table style="width: 100%;">
                    <tr>
                        <td width="70px">
                            <img src="/static/{{taxi.car.photo}}" style="width:100% !important; max-height:100px; max-width:110px; object-fit:cover;">
                        </td>
                        <td width="*" style="text-align:left;">
                            <b>{{taxi.car.model}}</b>
                            <br><a class="ui basic label" style="background-color:transparent;">{{taxi.car.gos_num}}</a>
                            <span style="font-size:small; color:gray;">{{taxi.car.color}}</span>
                        </td>
                        <td width="5%" style="text-align:right; vertical-align:bottom;">
                            <!--take_offer() in bustime_main.js-->
                            <button id="btn_offer_{{taxi.id}}" onclick="take_offer({{taxi.user}})" class="ui button" style="background-color:#FFDF32;color:black;">
                                {%trans 'Выбрать' %}
                            </button>
                        </td>
                    </tr>
                </table>
            </a>
        </div>
    </div>
</div><!--column-->

{% comment %}
taxi=
{
    "id": 1,
    "user": 12,
    "gender": 0,
    "agreement": datetime.datetime(2022, 4, 15, 19, 14, 54, 663563),
    "name": "locman",
    "phone": "111",
    "driver": True,
    "driver_rating_cnt": 0,
    "driver_rating": 0,
    "passenger_rating_cnt": 0,
    "passenger_rating": 0,
    "last_join": datetime.datetime(2022, 4, 15, 14, 15, 27, 221232),
    "gps_on": True,
    "avatar": None,
    "car_count": 1,
    "car": {
        "id": 1,
        "taxist": 1,
        "gos_num": "111",
        "model": {"id": 52, "name": "Alfa Romeo 145"},
        "color": {"id": 1, "name": "Бежево-жёлтый", "rgb": None},
        "passengers": 4,
        "baby_seat": 0,
        "taxi_type": 0,
        "car_state": 1,
        "car_class": 1,
        "current": True,
        "photo": "taxi/photo/cc29b8e154c64402a2ca7f4e5d9776e8.jpg"
    }
}
{% endcomment %}